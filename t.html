<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Analytics Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/css/overview.css">
</head>
<body>
    <div class="container-fluid p-0">
        <div class="d-flex">
            <!-- Dashboard Content -->
            <div class="dashboard-content">
                <div class="row">
                    <!-- Analytics & Charts Area -->
                    <div class="col-lg-8">
                        <div class="card mb-4">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5>Quiz Performance Analytics</h5>
                                <div class="dropdown">
                                    <span>Last 30 Days</span>
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="chart-container">
                                    <canvas id="performanceChart"></canvas>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <h5>Quiz Category Distribution</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <canvas id="categoryPieChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-md-6">
                                <div class="card mb-4">
                                    <div class="card-header">
                                        <h5>Weekly Quiz Completion</h5>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container">
                                            <canvas id="weeklyCompletionChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card mb-4">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5>Performance by Quiz Category</h5>
                                <div class="chart-legend">
                                    <span class="legend-item"><span class="color-box correct"></span>Correct</span>
                                    <span class="legend-item"><span class="color-box incorrect"></span>Incorrect</span>
                                </div>
                            </div>
                            <div class="card-body">
                                <div class="chart-container">
                                    <canvas id="categoryPerformanceChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Sidebar - User Stats & Leaderboard -->
                    <div class="col-lg-4">
                        <div class="card mb-4">
                            <div class="card-header">
                                <h5>Your Quiz Stats</h5>
                            </div>
                            <div class="card-body">
                                <div class="row text-center">
                                    <div class="col-4">
                                        <div class="stats-circle">
                                            <canvas id="accuracyDonut"></canvas>
                                            <div class="stats-label">78%</div>
                                        </div>
                                        <p class="stats-title">Accuracy</p>
                                    </div>
                                    <div class="col-4">
                                        <div class="stats-circle">
                                            <canvas id="completionDonut"></canvas>
                                            <div class="stats-label">42</div>
                                        </div>
                                        <p class="stats-title">Quizzes</p>
                                    </div>
                                    <div class="col-4">
                                        <div class="stats-circle">
                                            <canvas id="streakDonut"></canvas>
                                            <div class="stats-label">7</div>
                                        </div>
                                        <p class="stats-title">Day Streak</p>
                                    </div>
                                </div>
                                
                                <hr>
                                
                                <div class="strength-weakness">
                                    <h6>Your Strongest Categories</h6>
                                    <div class="progress-container">
                                        <div class="progress-label">
                                            <span>Science</span>
                                            <span>92%</span>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" style="width: 92%" aria-valuenow="92" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="progress-container">
                                        <div class="progress-label">
                                            <span>Geography</span>
                                            <span>85%</span>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" style="width: 85%" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="progress-container">
                                        <div class="progress-label">
                                            <span>History</span>
                                            <span>78%</span>
                                        </div>
                                        <div class="progress">
                                            <div class="progress-bar" role="progressbar" style="width: 78%" aria-valuenow="78" aria-valuemin="0" aria-valuemax="100"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card mb-4">
                            <div class="card-header d-flex justify-content-between align-items-center">
                                <h5>Global Leaderboard</h5>
                                <a href="#" class="see-more">Monthly Rankings</a>
                            </div>
                            <div class="card-body">
                                <div class="leaderboard-item">
                                    <div class="user-info">
                                        <span class="user-rank">1</span>
                                        <div class="user-avatar">JD</div>
                                        <div class="user-detail">
                                            <span class="user-name">John Doe</span>
                                            <span class="user-points">3,450 pts</span>
                                        </div>
                                    </div>
                                    <div class="user-score-chart">
                                        <canvas class="mini-chart" id="user1Chart"></canvas>
                                    </div>
                                </div>
                                
                                <div class="leaderboard-item">
                                    <div class="user-info">
                                        <span class="user-rank">2</span>
                                        <div class="user-avatar">AS</div>
                                        <div class="user-detail">
                                            <span class="user-name">Alice Smith</span>
                                            <span class="user-points">3,280 pts</span>
                                        </div>
                                    </div>
                                    <div class="user-score-chart">
                                        <canvas class="mini-chart" id="user2Chart"></canvas>
                                    </div>
                                </div>
                                
                                <div class="leaderboard-item">
                                    <div class="user-info">
                                        <span class="user-rank">3</span>
                                        <div class="user-avatar">RJ</div>
                                        <div class="user-detail">
                                            <span class="user-name">Robert Johnson</span>
                                            <span class="user-points">3,150 pts</span>
                                        </div>
                                    </div>
                                    <div class="user-score-chart">
                                        <canvas class="mini-chart" id="user3Chart"></canvas>
                                    </div>
                                </div>
                                
                                <div class="leaderboard-item current-user">
                                    <div class="user-info">
                                        <span class="user-rank">8</span>
                                        <div class="user-avatar">YU</div>
                                        <div class="user-detail">
                                            <span class="user-name">You</span>
                                            <span class="user-points">2,420 pts</span>
                                        </div>
                                    </div>
                                    <div class="user-score-chart">
                                        <canvas class="mini-chart" id="userYouChart"></canvas>
                                    </div>
                                </div>
                                
                                <div class="leaderboard-stats">
                                    <div class="stats-item">
                                        <span class="stats-value">+3</span>
                                        <span class="stats-label">Weekly Rank Change</span>
                                    </div>
                                    <div class="stats-item">
                                        <span class="stats-value">Top 5%</span>
                                        <span class="stats-label">Global Position</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card mb-4">
                            <div class="card-header">
                                <h5>Recent Achievement</h5>
                            </div>
                            <div class="card-body">
                                <div class="achievement">
                                    <div class="achievement-icon">
                                        <i class="fas fa-trophy"></i>
                                    </div>
                                    <div class="achievement-info">
                                        <h6>Science Master</h6>
                                        <p>Completed 10 science quizzes with 90%+ accuracy</p>
                                        <div class="achievement-date">Earned yesterday</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Performance Chart
            const performanceCtx = document.getElementById('performanceChart').getContext('2d');
            const performanceChart = new Chart(performanceCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct'],
                    datasets: [{
                        label: 'Score (%)',
                        data: [65, 72, 68, 75, 82, 78, 85, 89, 86, 92],
                        borderColor: '#2563eb',
                        backgroundColor: 'rgba(37, 99, 235, 0.1)',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 50,
                            max: 100
                        }
                    }
                }
            });
            
            // Category Pie Chart
            const categoryPieCtx = document.getElementById('categoryPieChart').getContext('2d');
            const categoryPieChart = new Chart(categoryPieCtx, {
                type: 'pie',
                data: {
                    labels: ['Science', 'History', 'Geography', 'Literature', 'Math'],
                    datasets: [{
                        data: [35, 25, 20, 15, 5],
                        backgroundColor: [
                            '#3b82f6',
                            '#f97316',
                            '#10b981',
                            '#8b5cf6',
                            '#f59e0b'
                        ],
                        borderWidth: 2,
                        borderColor: '#ffffff'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
            
            // Weekly Completion Chart
            const weeklyCompletionCtx = document.getElementById('weeklyCompletionChart').getContext('2d');
            const weeklyCompletionChart = new Chart(weeklyCompletionCtx, {
                type: 'bar',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Quizzes Completed',
                        data: [3, 5, 2, 4, 6, 8, 4],
                        backgroundColor: '#3b82f6',
                        borderRadius: 5
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 10
                        }
                    }
                }
            });
            
            // Category Performance Chart
            const categoryPerformanceCtx = document.getElementById('categoryPerformanceChart').getContext('2d');
            const categoryPerformanceChart = new Chart(categoryPerformanceCtx, {
                type: 'bar',
                data: {
                    labels: ['Science', 'History', 'Geography', 'Literature', 'Math'],
                    datasets: [{
                        label: 'Correct Answers',
                        data: [85, 65, 78, 55, 45],
                        backgroundColor: '#4ade80'
                    }, {
                        label: 'Incorrect Answers',
                        data: [15, 35, 22, 45, 55],
                        backgroundColor: '#f87171'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            stacked: true
                        },
                        y: {
                            stacked: true,
                            max: 100
                        }
                    }
                }
            });
            
            // Donut Charts
            function createDonutChart(id, value, color) {
                const ctx = document.getElementById(id).getContext('2d');
                return new Chart(ctx, {
                    type: 'doughnut',
                    data: {
                        datasets: [{
                            data: [value, 100 - value],
                            backgroundColor: [color, '#e2e8f0'],
                            borderWidth: 0,
                            cutout: '80%'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                enabled: false
                            }
                        }
                    }
                });
            }
            
            createDonutChart('accuracyDonut', 78, '#3b82f6');
            createDonutChart('completionDonut', 65, '#10b981');
            createDonutChart('streakDonut', 70, '#f59e0b');
            
            // Mini charts for leaderboard
            function createMiniLineChart(id, data, color) {
                const ctx = document.getElementById(id).getContext('2d');
                return new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['', '', '', '', '', '', ''],
                        datasets: [{
                            data: data,
                            borderColor: color,
                            tension: 0.4,
                            pointRadius: 0,
                            borderWidth: 2
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                enabled: false
                            }
                        },
                        scales: {
                            x: {
                                display: false
                            },
                            y: {
                                display: false,
                                min: 0
                            }
                        }
                    }
                });
            }
            
            createMiniLineChart('user1Chart', [75, 82, 78, 85, 89, 86, 92], '#3b82f6');
            createMiniLineChart('user2Chart', [72, 75, 80, 78, 82, 84, 86], '#3b82f6');
            createMiniLineChart('user3Chart', [68, 72, 76, 82, 78, 75, 82], '#3b82f6');
            createMiniLineChart('userYouChart', [65, 68, 72, 74, 76, 78, 80], '#f59e0b');
            
            // Card pulse effect
            const cards = document.querySelectorAll('.card');
            cards.forEach(card => {
                card.addEventListener('click', function() {
                    this.classList.add('pulse');
                    setTimeout(() => {
                        this.classList.remove('pulse');
                    }, 300);
                });
            });
        });
    </script>
</body>
</html>